# matplotlib直方图，密度图

- **直方图**：*又称质量分布图，是一种统计报告图，由一系列高度不等的纵向条纹或线段表示数据分布的情况。 一般用横轴表示数据类型，纵轴表示分布情况。用来整理计量值的观测数据，分析其分布状态的统计方法，用于对总体的分布特征进行推断*

  *应用场景：表示分布状态，分析数据是否服从正态分布，判断数据是否异常或者孤立*

- *直方图与柱状图的比较：*

  - **直方图展示数据的分布，柱状图比较数据的大小**。这是直方图与柱状图**最根本的区别**。直方图表示在一定值的区间中，有多少数据，表现的是数据的分布情况。柱状图表示，每一个数据的值的大小，表现的是值大小的对比

  - **直方图X轴为定量数据，柱状图X轴为分类数据。** 直方图的x轴通常是连续排列的，柱状图是分开排列的

    ![](C:\Users\唐禹\Desktop\数据分析-唐禹\matplotlib\图\直方图与柱状图比较.png)

  - 柱状图是以矩形的长度表示每一组的数据大小，其宽度(表示类别)则是固定的，**利于较小的数据集分析**。

  - 直方图是以矩形的长度表示每一组的频数或频率，宽度则表示各组的组距，因此其高度与宽度均有意义，利于**展示大量数据集的统计结果**。

- *画直方图一般流程*

  - 计算极差（最大值 - 最小值）
  - 设置组距
  - 计算组数（极差/ 组距）(通常对于数据较少的情况，分为5 ~ 12组 )

- **案例**

  ```python
  #绘制分布直方图
  
  #在这里我们直接分组设置成了25组
  data.plot(kind='hist',bins=25,figsize=(16,9),subplots=True) #subplots:将Dataframe的每一列绘制在子图中
  
  #data.plot(kind='hist',bins=25,figsize=(16,9),subplots=True,density=True) # density绘制直方频率图，面积总和为1
  plt.show()
  ```

  ![](C:\Users\唐禹\Desktop\数据分析-唐禹\matplotlib\图\直方图.png)

- **密度图**：*用于显示数据在连续区间内的分布状况。这种图表是直方图的变种，使用平滑曲线来绘制数值水平，从而得出更平滑的分布。密度图的峰值显示数值在该时间段内最为高度集中的位置。*

  - *密度图其中一个比直方图优胜的地方，是由于它们不受所使用分组数量（典型直方图中所使用的条形）的影响，所以能更好地界定分布形状 。*

    ```python
    #绘制密度曲线图
    data.plot(kind='kde',figsize=(16,9)) 
    ```

    ![](C:\Users\唐禹\Desktop\数据分析-唐禹\matplotlib\图\密度曲线图.png)



  - *在后面我们会学习 seaborn distplot方法，将使直方图和密度图绘制更简单*

