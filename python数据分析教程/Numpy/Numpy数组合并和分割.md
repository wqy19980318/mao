# Numpy数组合并,分割,元素重复

1. `np.concatenate`

   ```python
   arr1 = np.arange(1,7).reshape(2,3)
   arr1
   """
   array([[1, 2, 3],
          [4, 5, 6]])
   """
   
   arr2 = np.arange(7,13).reshape(2,3)
   arr2
   """
   array([[ 7,  8,  9],
          [10, 11, 12]])
   """
   
   np.concatenate((arr1,arr2)) #默认axis=0
   """
   array([[ 1,  2,  3],
          [ 4,  5,  6],
          [ 7,  8,  9],
          [10, 11, 12]])
   """
   np.concatenate((arr1,arr2),axis=1) #指定axis=1
   """
   array([[ 1,  2,  3,  7,  8,  9],
          [ 4,  5,  6, 10, 11, 12]])
   """
   ```

2. `np.vstack`

   ```python
   np.vstack((arr1,arr2)) #沿着轴0合并数组
   """
   array([[ 1,  2,  3],
          [ 4,  5,  6],
          [ 7,  8,  9],
          [10, 11, 12]])
   """
   ```

3. `np.hstack`

   ```python
   np.hstack((arr1,arr2))  #沿着轴1合并数组
   """
   array([[ 1,  2,  3,  7,  8,  9],
          [ 4,  5,  6, 10, 11, 12]])
   """
   ```

4. `np.split`

   ```python
   arr3 = np.random.randn(5,3)
   arr3
   """
   array([[-1.62753568,  0.09844282,  0.24826172],
          [-0.51082413,  1.02423446, -0.82945161],
          [ 0.68448996,  0.1510686 ,  1.25115637],
          [ 1.68088646,  0.35070315, -0.74911414],
          [ 1.05348859,  1.28620817,  0.1522841 ]])
   """
   np.split(arr3,[1,3]) #默认按 0轴分割， [1,3]表示数组拆分时，按索引位置拆分
   """
   [array([[-1.62753568,  0.09844282,  0.24826172]]),
    array([[-0.51082413,  1.02423446, -0.82945161],
           [ 0.68448996,  0.1510686 ,  1.25115637]]),
    array([[ 1.68088646,  0.35070315, -0.74911414],
           [ 1.05348859,  1.28620817,  0.1522841 ]])]
   """
   
   np.split(arr3,[1,2],axis=1) #指定1轴分割
   """
   [array([[-1.62753568],
           [-0.51082413],
           [ 0.68448996],
           [ 1.68088646],
           [ 1.05348859]]), array([[0.09844282],
           [1.02423446],
           [0.1510686 ],
           [0.35070315],
           [1.28620817]]), array([[ 0.24826172],
           [-0.82945161],
           [ 1.25115637],
           [-0.74911414],
           [ 0.1522841 ]])]
   """
   np.split(arr3,5) # 5表示把数组分割成5组，只能是均等分割
   """
   [array([[-1.62753568,  0.09844282,  0.24826172]]),
    array([[-0.51082413,  1.02423446, -0.82945161]]),
    array([[0.68448996, 0.1510686 , 1.25115637]]),
    array([[ 1.68088646,  0.35070315, -0.74911414]]),
    array([[1.05348859, 1.28620817, 0.1522841 ]])]
   """
   #ValueError: array split does not result in an equal division,不是均等分割报这个错
   ```

5. `np.array_split`:和split的区别是，可以不均等分割

   ```python
   np.array_split(arr3,3) 
   """
   [array([[-1.62753568,  0.09844282,  0.24826172],
           [-0.51082413,  1.02423446, -0.82945161]]),
    array([[ 0.68448996,  0.1510686 ,  1.25115637],
           [ 1.68088646,  0.35070315, -0.74911414]]),
    array([[1.05348859, 1.28620817, 0.1522841 ]])]
   """
   ```

6. `np.hsplit`

   ```python
   np.hsplit(arr3,[1,2])
   """
   [array([[-1.62753568],
           [-0.51082413],
           [ 0.68448996],
           [ 1.68088646],
           [ 1.05348859]]), array([[0.09844282],
           [1.02423446],
           [0.1510686 ],
           [0.35070315],
           [1.28620817]]), array([[ 0.24826172],
           [-0.82945161],
           [ 1.25115637],
           [-0.74911414],
           [ 0.1522841 ]])]
    """
   ```

7. `np.vsplit`

   ```python 
   np.vsplit(arr3,[1,3])
   """
   [array([[-1.62753568,  0.09844282,  0.24826172]]),
    array([[-0.51082413,  1.02423446, -0.82945161],
           [ 0.68448996,  0.1510686 ,  1.25115637]]),
    array([[ 1.68088646,  0.35070315, -0.74911414],
           [ 1.05348859,  1.28620817,  0.1522841 ]])]
   """
   ```

8. `repeat`：按照给定的次数，对数组的元素进行复制

   ```python
   arr = np.arange(3)
   a = arr.repeat(3) #传入一个整数,元素重复相应的次数
   a
   #array([0, 0, 0, 1, 1, 1, 2, 2, 2])
   b = arr.repeat([2,2,3]) #传入一个整数数组,每个元素会重复相应的不同次数
   b
   #array([0, 0, 1, 1, 2, 2, 2]) 
   
   #多维
   arr = np.random.rand(4,3)
   arr
   """
   array([[0.43173965, 0.26514662, 0.77984414],
          [0.13906945, 0.25396541, 0.77220584],
          [0.57093281, 0.97762641, 0.68158357],
          [0.7133476 , 0.32654828, 0.02919563]])
   """
   
   arr.repeat(2,axis=0) #指定轴0，也可以指定轴1
   """
   array([[0.43173965, 0.26514662, 0.77984414],
          [0.43173965, 0.26514662, 0.77984414],
          [0.13906945, 0.25396541, 0.77220584],
          [0.13906945, 0.25396541, 0.77220584],
          [0.57093281, 0.97762641, 0.68158357],
          [0.57093281, 0.97762641, 0.68158357],
          [0.7133476 , 0.32654828, 0.02919563],
          [0.7133476 , 0.32654828, 0.02919563]])
   """
   
   arr.repeat([1,2,3,4],axis=0) #传入整数数组,整数数组长度要和轴的长度匹配
   """
   array([[0.43173965, 0.26514662, 0.77984414],
          [0.13906945, 0.25396541, 0.77220584],
          [0.13906945, 0.25396541, 0.77220584],
          [0.57093281, 0.97762641, 0.68158357],
          [0.57093281, 0.97762641, 0.68158357],
          [0.57093281, 0.97762641, 0.68158357],
          [0.7133476 , 0.32654828, 0.02919563],
          [0.7133476 , 0.32654828, 0.02919563],
          [0.7133476 , 0.32654828, 0.02919563],
          [0.7133476 , 0.32654828, 0.02919563]])
   """
   
   arr.repeat([1,2,3],axis=1)
   """
   array([[0.43173965, 0.26514662, 0.26514662, 0.77984414, 0.77984414,
           0.77984414],
          [0.13906945, 0.25396541, 0.25396541, 0.77220584, 0.77220584,
           0.77220584],
          [0.57093281, 0.97762641, 0.97762641, 0.68158357, 0.68158357,
           0.68158357],
          [0.7133476 , 0.32654828, 0.32654828, 0.02919563, 0.02919563,
           0.02919563]])
   """
   
   ```

